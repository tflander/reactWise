<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Batches Divs Spike</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>
  </head>
  <body>
    <h1>Batches Divs Spike</h1>
    <div id="content"></div>
    <script type="text/babel">

var data = {"queued": ["121-C", "122-C"], "current": ["122-C"], "archive": ["124-C", "123-C"]};
// var data = {"current": ["122-C"], "archive": ["124-C", "123-C"]};
// var data = {"archive": ["124-C", "123-C"]};

var BatchList = React.createClass({
  render: function() {
    var batchNodes = this.props.data.map(function(batch) {
      return (
        <li key={batch}>
          {batch}
        </li>
      );
    });
    return (
      <ol>
        {batchNodes}
      </ol>
    );
  }
});

var BatchDiv = React.createClass({
  render: function() {
    if(this.props.data) {    
      return (
	      <div className={this.props.className}>
    	     <h3>{this.props.title}</h3>
        	 <BatchList data={this.props.data}/>
	      </div>
      );
    } else {return(null);}
  }
});
    
var BatchGroups = React.createClass({
  render: function() {
    return (    
      <div className="batches">
         <BatchDiv title="Queued Batches" className="queued" data={this.props.data.queued}/>
         <BatchDiv title="Current Batch" className="current" data={this.props.data.current}/>
         <BatchDiv title="Archived Batches" className="archive" data={this.props.data.archive}/>
      </div>
    );
  }
});
    
ReactDOM.render(
 <BatchGroups data={data} />,
  document.getElementById('content')
);

    </script>
  </body>
</html>